syntax = "proto3";

message time_stamp {
  int64 seconds = 1;
  int32 nano_seconds = 2;
}

message point_list {
  int32 size = 1;
  bytes points = 2;
}

message point_cloud {
  point_list ground_points = 1;
  point_list object_points = 2;
}

message vector2 {
  float x = 1;
  float y = 2;
}

message vector3 {
  float x = 1;
  float y = 2;
  float z = 3;
}

message bounding_box {
  vector3 position = 1;
  vector3 size = 2;
  float yaw = 3;
}

message polygon_box {
  repeated vector2 points = 1;
  float min_z = 2;
  float max_z = 3;
}

message non_tracked_object {
  int32 id = 1;
  bounding_box bbox = 2;
}

message tracked_object {
  int32 id = 1;
  bounding_box bbox = 2;
  int32 label = 3;
  float probability = 4;
  bool tracking_reliable = 5;
  vector3 velocity = 6;
  repeated vector3 history = 7;
  repeated vector3 prediction = 8;
}

message zone {
  int32 id = 1;
  polygon_box polygon_box = 2;
  repeated int32 object_ids = 3;
  bool is_exclusion = 4;
}

message output_message {
  time_stamp time_stamp = 1;
  point_cloud point_cloud = 2;
  repeated non_tracked_object non_tracked_objects = 3;
  repeated tracked_object tracked_objects = 4;
  repeated zone region_of_interest = 5;
}
